{"ast":null,"code":"import _objectSpread from\"C:/Users/DELL/Documents/Archivos JuanManuel/Proyectos personales/CarnitasPedidos/carnitas-el-guero/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import'./App.css';import{useState,useEffect,useCallback}from'react';import{motion,AnimatePresence}from'framer-motion';import logo from'./logo.jpg';// Asegúrate de que tu logo esté en la carpeta src\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[activeTab,setActiveTab]=useState('externo');const[pedidos,setPedidos]=useState([]);const[mesas,setMesas]=useState([// { id: 1, numero: 1, estado: 'disponible', tipo: null, pedidoActual: null },\n// { id: 2, numero: 2, estado: 'disponible', tipo: null, pedidoActual: null },\n// { id: 3, numero: 3, estado: 'disponible', tipo: null, pedidoActual: null },\n// { id: 4, numero: 4, estado: 'disponible', tipo: null, pedidoActual: null },\n]);const[productos,setProductos]=useState([]);// En producción, la API estará en la misma URL, bajo la ruta /api\n// En desarrollo, podemos usar un proxy o mantener la URL completa.\n// En producción, la API estará en la misma URL, bajo la ruta /api\n// En desarrollo, podemos usar un proxy o mantener la URL completa.\nconst API_URL=process.env.NODE_ENV==='development'?'http://localhost:3001/api'// Si pruebas localmente con un servidor\n:'/api';// En producción en Vercel\nconst fetchData=useCallback(async()=>{try{var _productosData$data,_mesasData$data,_pedidosData$data;console.log(\"Fetching data from:\",API_URL);const[productosRes,mesasRes,pedidosRes]=await Promise.all([fetch(\"\".concat(API_URL,\"/productos\")),fetch(\"\".concat(API_URL,\"/mesas\")),fetch(\"\".concat(API_URL,\"/pedidos\"))]);console.log(\"Respuestas recibidas:\",{productos:productosRes.status,mesas:mesasRes.status,pedidos:pedidosRes.status});// Solo procesar si la respuesta es OK\nconst productosData=productosRes.ok?await productosRes.json():{data:[]};const mesasData=mesasRes.ok?await mesasRes.json():{data:[]};const pedidosData=pedidosRes.ok?await pedidosRes.json():{data:[]};console.log(\"Datos procesados:\",{productos:((_productosData$data=productosData.data)===null||_productosData$data===void 0?void 0:_productosData$data.length)||0,mesas:((_mesasData$data=mesasData.data)===null||_mesasData$data===void 0?void 0:_mesasData$data.length)||0,pedidos:((_pedidosData$data=pedidosData.data)===null||_pedidosData$data===void 0?void 0:_pedidosData$data.length)||0});setProductos(productosData.data||[]);setMesas(mesasData.data||[]);setPedidos(pedidosData.data||[]);}catch(error){console.error(\"Error fetching data:\",error);setProductos([]);setMesas([]);setPedidos([]);}},[API_URL]);useEffect(()=>{fetchData();},[fetchData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 text-gray-900 flex flex-col\",children:[/*#__PURE__*/_jsx(Header,{activeTab:activeTab,setActiveTab:setActiveTab}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 pt-20 pb-24 px-4 overflow-auto\",children:/*#__PURE__*/_jsxs(AnimatePresence,{mode:\"wait\",children:[activeTab==='externo'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:0.2},children:/*#__PURE__*/_jsx(PedidoExterno,{productos:productos,onPedidoConfirmado:fetchData,API_URL:API_URL})},\"externo\"),activeTab==='interno'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:0.2},children:/*#__PURE__*/_jsx(PedidoInterno,{productos:productos,mesas:mesas,setMesas:setMesas,onPedidoFinalizado:fetchData,API_URL:API_URL})},\"interno\"),activeTab==='admin'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:0.2},children:/*#__PURE__*/_jsx(AdminPanel,{productos:productos,setProductos:setProductos,pedidos:pedidos,mesas:mesas,onDataChange:fetchData,API_URL:API_URL})},\"admin\")]})}),/*#__PURE__*/_jsx(TabBar,{activeTab:activeTab,setActiveTab:setActiveTab})]});};const Header=_ref=>{let{activeTab,setActiveTab}=_ref;const[fecha,setFecha]=useState(new Date());useEffect(()=>{const timer=setInterval(()=>{setFecha(new Date());},60000);return()=>clearInterval(timer);},[]);const formatDate=date=>{return date.toLocaleDateString('es-MX',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};return/*#__PURE__*/_jsxs(\"header\",{className:\"fixed top-0 left-0 right-0 bg-white shadow-md z-50 p-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo de Carnitas El G\\xFCero\",className:\"w-10 h-10 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-lg\",children:\"Carnitas El G\\xFCero\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:formatDate(fecha)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(activeTab==='externo'?'bg-orange-500 text-white':'bg-gray-200 text-gray-700'),onClick:()=>setActiveTab('externo'),children:\"Externo\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(activeTab==='interno'?'bg-orange-500 text-white':'bg-gray-200 text-gray-700'),onClick:()=>setActiveTab('interno'),children:\"Interno\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(activeTab==='admin'?'bg-orange-500 text-white':'bg-gray-200 text-gray-700'),onClick:()=>setActiveTab('admin'),children:\"Admin\"})]})]});};const TabBar=_ref2=>{let{activeTab,setActiveTab}=_ref2;return/*#__PURE__*/_jsxs(\"nav\",{className:\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center \".concat(activeTab==='externo'?'text-orange-500':'text-gray-500'),onClick:()=>setActiveTab('externo'),children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-1\",children:\"Externo\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center \".concat(activeTab==='interno'?'text-orange-500':'text-gray-500'),onClick:()=>setActiveTab('interno'),children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-8 0H3m2 0h4M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-1\",children:\"Interno\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex flex-col items-center \".concat(activeTab==='admin'?'text-orange-500':'text-gray-500'),onClick:()=>setActiveTab('admin'),children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-1\",children:\"Admin\"})]})]});};const GroupedProductSelector=_ref3=>{var _productos$find;let{categoria,productos,onAgregar}=_ref3;const[cantidad,setCantidad]=useState(1);const[selectedProductId,setSelectedProductId]=useState(productos.length>0?productos[0].id:'');const handleAgregar=()=>{const productoSeleccionado=productos.find(p=>p.id===parseInt(selectedProductId));if(productoSeleccionado){onAgregar(productoSeleccionado,cantidad,null,null);// tipo y conVerdura no aplican aquí\nsetCantidad(1);}};if(productos.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:categoria}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-orange-500 font-bold\",children:[\"$\",((_productos$find=productos.find(p=>p.id===parseInt(selectedProductId)))===null||_productos$find===void 0?void 0:_productos$find.precio)||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCantidad(Math.max(1,cantidad-1)),className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-10 text-center font-medium\",children:cantidad}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCantidad(cantidad+1),className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\",children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Opci\\xF3n:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedProductId,onChange:e=>setSelectedProductId(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:productos.map(producto=>/*#__PURE__*/_jsx(\"option\",{value:producto.id,children:producto.nombre},producto.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAgregar,className:\"w-full bg-orange-500 text-white py-2 rounded-lg font-semibold\",children:\"Agregar al pedido\"})]});};const PedidoExterno=_ref4=>{let{productos,onPedidoConfirmado,API_URL}=_ref4;const[cliente,setCliente]=useState({nombre:'',telefono:'',direccion:'',tipoEntrega:'recoger'});const[carrito,setCarrito]=useState([]);const[horaEntrega,setHoraEntrega]=useState('');const[metodoPago,setMetodoPago]=useState('efectivo');const[pagoCon,setPagoCon]=useState('');const[observaciones,setObservaciones]=useState('');const[showResumen,setShowResumen]=useState(false);const[cobrarEnvio,setCobrarEnvio]=useState(false);const[costoEnvio,setCostoEnvio]=useState('');const agregarAlCarrito=(producto,cantidad,tipo,conVerdura)=>{if(cantidad<=0)return;const nuevoItem={id:Date.now(),productoId:producto.id,nombre:producto.nombre,precio:producto.precio,cantidad,tipo:producto.tipos?tipo:null,conVerdura:producto.categoria==='taco'||producto.categoria==='torta'?conVerdura:null};setCarrito([...carrito,nuevoItem]);};const calcularTotal=()=>{const totalCarrito=carrito.reduce((total,item)=>total+item.precio*item.cantidad,0);const envio=cobrarEnvio&&costoEnvio?parseFloat(costoEnvio):0;return totalCarrito+envio;};const calcularCambio=()=>{if(metodoPago!=='efectivo'||!pagoCon)return 0;return parseFloat(pagoCon)-calcularTotal();};const confirmarPedido=async()=>{const nuevoPedidoData={id:Date.now(),tipo:'externo',cliente,items:carrito,total:calcularTotal(),costoEnvio:cobrarEnvio&&costoEnvio?parseFloat(costoEnvio):null,horaEntrega,metodoPago,pagoCon:metodoPago==='efectivo'?parseFloat(pagoCon):null,cambio:calcularCambio(),observaciones,estado:'pendiente',fecha:new Date()};try{const response=await fetch(\"\".concat(API_URL,\"/pedidos\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(nuevoPedidoData)});if(!response.ok)throw new Error('Network response was not ok');// Resetear formulario y actualizar lista de pedidos\nonPedidoConfirmado();setCarrito([]);setCliente({nombre:'',telefono:'',direccion:'',tipoEntrega:'recoger'});setHoraEntrega('');setMetodoPago('efectivo');setPagoCon('');setObservaciones('');setCobrarEnvio(false);setCostoEnvio('');setShowResumen(false);}catch(error){console.error('Error al confirmar el pedido:',error);alert('Hubo un error al confirmar el pedido.');}alert('¡Pedido confirmado con éxito!');};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-orange-500\",children:\"Pedido para Llevar/Domicilio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Informaci\\xF3n del Cliente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre completo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:cliente.nombre,onChange:e=>setCliente(_objectSpread(_objectSpread({},cliente),{},{nombre:e.target.value})),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"Nombre del cliente\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:cliente.telefono,onChange:e=>setCliente(_objectSpread(_objectSpread({},cliente),{},{telefono:e.target.value})),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"N\\xFAmero de tel\\xE9fono\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tipo de entrega\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:cliente.tipoEntrega==='recoger',onChange:()=>setCliente(_objectSpread(_objectSpread({},cliente),{},{tipoEntrega:'recoger'})),className:\"text-orange-500 focus:ring-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Para recoger\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:cliente.tipoEntrega==='domicilio',onChange:()=>setCliente(_objectSpread(_objectSpread({},cliente),{},{tipoEntrega:'domicilio'})),className:\"text-orange-500 focus:ring-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Domicilio\"})]})]})]}),cliente.tipoEntrega==='domicilio'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:cliente.direccion,onChange:e=>setCliente(_objectSpread(_objectSpread({},cliente),{},{direccion:e.target.value})),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"Direcci\\xF3n completa\"})]}),cliente.tipoEntrega==='domicilio'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:cobrarEnvio,onChange:e=>setCobrarEnvio(e.target.checked),className:\"text-orange-500 focus:ring-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-medium text-gray-700\",children:\"Cobrar env\\xEDo\"})]})}),cobrarEnvio&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Costo de env\\xEDo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:costoEnvio,onChange:e=>setCostoEnvio(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"$\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Productos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[productos.filter(p=>p.categoria==='taco'||p.categoria==='torta').map(producto=>/*#__PURE__*/_jsx(ProductoSelector,{producto:producto,onAgregar:agregarAlCarrito},producto.id)),/*#__PURE__*/_jsx(GroupedProductSelector,{categoria:\"Carnitas por Kilo\",productos:productos.filter(p=>p.categoria==='carnitas'),onAgregar:agregarAlCarrito}),/*#__PURE__*/_jsx(GroupedProductSelector,{categoria:\"Bebidas\",productos:productos.filter(p=>p.categoria==='bebida'),onAgregar:agregarAlCarrito})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Detalles de Entrega\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Hora deseada\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:horaEntrega,onChange:e=>setHoraEntrega(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"M\\xE9todo de pago\"}),/*#__PURE__*/_jsxs(\"select\",{value:metodoPago,onChange:e=>setMetodoPago(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"efectivo\",children:\"Efectivo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"transferencia\",children:\"Transferencia\"})]})]}),metodoPago==='efectivo'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\xBFCon cu\\xE1nto paga?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:pagoCon,onChange:e=>setPagoCon(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",placeholder:\"$\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{value:observaciones,onChange:e=>setObservaciones(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500\",rows:3,placeholder:\"Instrucciones especiales para la preparaci\\xF3n o entrega\"})]})]})]}),carrito.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-20 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[carrito.length,\" producto(s) en el carrito\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-orange-500 font-bold\",children:[\"Total: $\",calcularTotal()]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResumen(true),className:\"bg-orange-500 text-white px-6 py-2 rounded-lg font-semibold\",children:\"Ver Resumen\"})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showResumen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",onClick:()=>setShowResumen(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4 text-orange-500\",children:\"Resumen del Pedido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Cliente:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[cliente.nombre,\" - \",cliente.telefono]}),cliente.tipoEntrega==='domicilio'&&/*#__PURE__*/_jsx(\"p\",{children:cliente.direccion}),/*#__PURE__*/_jsx(\"p\",{className:\"capitalize\",children:cliente.tipoEntrega})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Productos:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:carrito.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[item.cantidad,\"x \",item.nombre]}),item.tipo&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\" (\",item.tipo,\")\"]}),item.conVerdura!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\" - \",item.conVerdura?'Con verdura':'Sin verdura']})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.precio*item.cantidad]})]},item.id))}),cobrarEnvio&&costoEnvio>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between border-t pt-2 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Costo de env\\xEDo\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",parseFloat(costoEnvio)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Detalles:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Hora: \",horaEntrega||'Lo antes posible']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pago: \",metodoPago==='efectivo'?'Efectivo':'Transferencia']}),metodoPago==='efectivo'&&pagoCon&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Cambio: $\",calcularCambio()]}),observaciones&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2\",children:[\"Observaciones: \",observaciones]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t pt-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xl font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",calcularTotal()]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResumen(false),className:\"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold\",children:\"Modificar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmarPedido,className:\"flex-1 bg-orange-500 text-white py-3 rounded-lg font-semibold\",children:\"Confirmar\"})]})]})})})]});};const ProductoSelector=_ref5=>{let{producto,onAgregar}=_ref5;const[cantidad,setCantidad]=useState(1);const[tipoSeleccionado,setTipoSeleccionado]=useState(producto.tipos?producto.tipos[0]:'');const[conVerdura,setConVerdura]=useState(true);const handleAgregar=()=>{onAgregar(producto,cantidad,tipoSeleccionado,conVerdura);setCantidad(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:producto.nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-orange-500 font-bold\",children:[\"$\",producto.precio]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCantidad(Math.max(1,cantidad-1)),className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-10 text-center font-medium\",children:cantidad}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCantidad(cantidad+1),className:\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\",children:\"+\"})]})]}),producto.tipos&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Tipo:\"}),/*#__PURE__*/_jsx(\"select\",{value:tipoSeleccionado,onChange:e=>setTipoSeleccionado(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:producto.tipos.map(tipo=>/*#__PURE__*/_jsx(\"option\",{value:tipo,children:tipo},tipo))})]}),(producto.categoria==='taco'||producto.categoria==='torta')&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:conVerdura,onChange:e=>setConVerdura(e.target.checked),className:\"text-orange-500 focus:ring-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Con verdura (cebolla, cilantro)\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAgregar,className:\"w-full bg-orange-500 text-white py-2 rounded-lg font-semibold\",children:\"Agregar al pedido\"})]});};const PedidoInterno=_ref6=>{let{productos,mesas,setMesas,onPedidoFinalizado,API_URL}=_ref6;const[mesaSeleccionada,setMesaSeleccionada]=useState(null);const[carrito,setCarrito]=useState([]);const seleccionarMesa=mesa=>{if(mesa.estado==='disponible'){setMesaSeleccionada(mesa.id);setMesas(mesas.map(m=>m.id===mesa.id?_objectSpread(_objectSpread({},m),{},{estado:'ocupada'}):m));}else{setMesaSeleccionada(mesa.id);}};const agregarAlCarrito=(producto,cantidad,tipo,conVerdura)=>{if(cantidad<=0)return;const nuevoItem={id:Date.now(),productoId:producto.id,nombre:producto.nombre,precio:producto.precio,cantidad,tipo:producto.tipos?tipo:null,conVerdura:producto.categoria==='taco'||producto.categoria==='torta'?conVerdura:null};setCarrito([...carrito,nuevoItem]);};const calcularTotal=()=>{return carrito.reduce((total,item)=>total+item.precio*item.cantidad,0);};const finalizarPedido=async()=>{if(!mesaSeleccionada||carrito.length===0)return;const nuevoPedidoData={id:Date.now(),tipo:'interno',mesaId:mesaSeleccionada,items:carrito,total:calcularTotal(),estado:'pendiente',fecha:new Date(),// Campos de pedido externo en null\ncliente:null,horaEntrega:null,metodoPago:null,pagoCon:null,cambio:null,observaciones:null};try{const response=await fetch(\"\".concat(API_URL,\"/pedidos\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(nuevoPedidoData)});if(!response.ok)throw new Error('Error al registrar el pedido');onPedidoFinalizado();// Recarga todos los datos\nsetCarrito([]);}catch(error){console.error('Error al finalizar pedido:',error);alert('Hubo un error al registrar el pedido para la mesa.');}alert('Pedido registrado para la mesa');};const liberarMesa=()=>{setMesas(mesas.map(m=>m.id===mesaSeleccionada?_objectSpread(_objectSpread({},m),{},{estado:'disponible',pedidoActual:null}):m));setMesaSeleccionada(null);setCarrito([]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-orange-500\",children:\"Pedidos Internos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Mesas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:mesas.map(mesa=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>seleccionarMesa(mesa),className:\"p-4 rounded-lg border-2 text-center cursor-pointer \".concat(mesaSeleccionada===mesa.id?'border-orange-500 bg-orange-50':mesa.estado==='ocupada'?'border-red-500 bg-red-50':'border-green-500 bg-green-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[\"Mesa \",mesa.numero]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm capitalize\",children:mesa.estado==='disponible'?'Disponible':'Ocupada'})]},mesa.id))})]}),mesaSeleccionada&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:[\"Productos para Mesa \",mesas.find(m=>m.id===mesaSeleccionada).numero]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[productos.filter(p=>p.categoria==='taco'||p.categoria==='torta').map(producto=>/*#__PURE__*/_jsx(ProductoSelector,{producto:producto,onAgregar:agregarAlCarrito},producto.id)),/*#__PURE__*/_jsx(GroupedProductSelector,{categoria:\"Carnitas por Kilo\",productos:productos.filter(p=>p.categoria==='carnitas'),onAgregar:agregarAlCarrito}),/*#__PURE__*/_jsx(GroupedProductSelector,{categoria:\"Bebidas\",productos:productos.filter(p=>p.categoria==='bebida'),onAgregar:agregarAlCarrito})]})]}),carrito.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Resumen de la Mesa\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 mb-4\",children:carrito.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[item.cantidad,\"x \",item.nombre]}),item.tipo&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\" (\",item.tipo,\")\"]}),item.conVerdura!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\" - \",item.conVerdura?'Con verdura':'Sin verdura']})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.precio*item.cantidad]})]},item.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t pt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-bold text-lg\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",calcularTotal()]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:liberarMesa,className:\"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold\",children:\"Liberar Mesa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:finalizarPedido,className:\"flex-1 bg-orange-500 text-white py-3 rounded-lg font-semibold\",children:\"Finalizar Pedido\"})]})]})]});};const AdminPanel=_ref7=>{let{productos,setProductos,pedidos,mesas,onDataChange,API_URL}=_ref7;const[filtroPedidos,setFiltroPedidos]=useState('todos');const[editingProductId,setEditingProductId]=useState(null);const[editedProductData,setEditedProductData]=useState({nombre:'',precio:''});const[newProduct,setNewProduct]=useState({nombre:'',precio:'',categoria:'taco',tipos:'',disponible:true});const pedidosFiltrados=filtroPedidos==='todos'?pedidos:pedidos.filter(p=>p.tipo===filtroPedidos);const handleEditClick=producto=>{setEditingProductId(producto.id);setEditedProductData({nombre:producto.nombre,precio:producto.precio});};const handleCancelEdit=()=>{setEditingProductId(null);setEditedProductData({nombre:'',precio:''});};const handleSaveEdit=async id=>{const productoOriginal=productos.find(p=>p.id===id);const updatedProduct=_objectSpread(_objectSpread({},productoOriginal),{},{nombre:editedProductData.nombre,precio:parseFloat(editedProductData.precio)});try{await fetch(\"\".concat(API_URL,\"/productos/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(updatedProduct)});onDataChange();// Recargar datos\nhandleCancelEdit();}catch(error){console.error(\"Error al guardar producto:\",error);}};const toggleDisponibilidad=async id=>{const producto=productos.find(p=>p.id===id);const updatedProduct=_objectSpread(_objectSpread({},producto),{},{disponible:!producto.disponible});try{await fetch(\"\".concat(API_URL,\"/productos/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(updatedProduct)});onDataChange();// Recargar datos\n}catch(error){console.error(\"Error al cambiar disponibilidad:\",error);}};const handleNewProductChange=e=>{const{name,value}=e.target;setNewProduct(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleCreateProduct=async e=>{e.preventDefault();if(!newProduct.nombre||!newProduct.precio||!newProduct.categoria){alert('Por favor, completa todos los campos requeridos.');return;}// El backend se encargará del ID\nconst productoACrear=_objectSpread(_objectSpread({},newProduct),{},{precio:parseFloat(newProduct.precio)});try{const response=await fetch(\"\".concat(API_URL,\"/productos\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(productoACrear)});if(!response.ok)throw new Error('Error al crear producto');onDataChange();// Recargar datos\nsetNewProduct({nombre:'',precio:'',categoria:'taco',tipos:'',disponible:true});// Reset form\n}catch(error){console.error(\"Error al crear producto:\",error);alert('Hubo un error al crear el producto.');}alert('¡Producto creado con éxito!');};const cambiarEstadoPedido=async(id,nuevoEstado)=>{try{await fetch(\"\".concat(API_URL,\"/pedidos/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({estado:nuevoEstado})});onDataChange();// Recargar todos los datos para reflejar el cambio\n}catch(error){console.error(\"Error al cambiar el estado del pedido:\",error);alert('Hubo un error al actualizar el estado del pedido.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-orange-500\",children:\"Panel de Administraci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Control de Pedidos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFiltroPedidos('todos'),className:\"px-3 py-1 text-sm rounded-full \".concat(filtroPedidos==='todos'?'bg-orange-500 text-white':'bg-gray-200'),children:\"Todos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFiltroPedidos('externo'),className:\"px-3 py-1 text-sm rounded-full \".concat(filtroPedidos==='externo'?'bg-orange-500 text-white':'bg-gray-200'),children:\"Externos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFiltroPedidos('interno'),className:\"px-3 py-1 text-sm rounded-full \".concat(filtroPedidos==='interno'?'bg-orange-500 text-white':'bg-gray-200'),children:\"Internos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 max-h-60 overflow-y-auto\",children:[pedidosFiltrados.map(pedido=>{var _mesas$find;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:pedido.tipo==='externo'?'Pedido Externo':\"Mesa \".concat((_mesas$find=mesas.find(m=>m.id===pedido.mesaId))===null||_mesas$find===void 0?void 0:_mesas$find.numero)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:new Date(pedido.fecha).toLocaleString('es-MX')})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium px-2 py-1 rounded capitalize \".concat(pedido.estado==='entregado'?'bg-green-100 text-green-800':'bg-orange-100 text-orange-800'),children:pedido.estado})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm mb-2\",children:[pedido.tipo==='externo'&&/*#__PURE__*/_jsxs(\"p\",{children:[pedido.cliente.nombre,\" - \",pedido.cliente.telefono]}),/*#__PURE__*/_jsxs(\"p\",{children:[pedido.items.length,\" producto(s) - $\",pedido.total]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsxs(\"select\",{value:pedido.estado,onChange:e=>cambiarEstadoPedido(pedido.id,e.target.value),className:\"text-xs p-1 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"preparacion\",children:\"En preparaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"listo\",children:\"Listo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entregado\",children:\"Entregado\"})]})})]},pedido.id);}),pedidosFiltrados.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 py-4\",children:\"No hay pedidos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Gesti\\xF3n de Mesas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:mesas.map(mesa=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg border text-center \".concat(mesa.estado==='ocupada'?'border-red-500 bg-red-50':'border-green-500 bg-green-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold\",children:[\"Mesa \",mesa.numero]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm capitalize\",children:mesa.estado}),mesa.pedidoActual&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-1 text-orange-600\",children:\"Con pedido activo\"})]},mesa.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Crear Nuevo Producto\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateProduct,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre\",value:newProduct.nombre,onChange:handleNewProductChange,className:\"w-full p-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"precio\",value:newProduct.precio,onChange:handleNewProductChange,className:\"w-full p-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"categoria\",value:newProduct.categoria,onChange:handleNewProductChange,className:\"w-full p-2 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"taco\",children:\"Taco\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carnitas\",children:\"Carnitas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"torta\",children:\"Torta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bebida\",children:\"Bebida\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tipos (separados por coma)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tipos\",value:newProduct.tipos,onChange:handleNewProductChange,className:\"w-full p-2 border border-gray-300 rounded-lg\",placeholder:\"Ej: Maciza, Cuerito, Surtida\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Dejar en blanco si no aplica (ej. bebidas).\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-orange-500 text-white py-2 rounded-lg font-semibold\",children:\"Crear Producto\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-800\",children:\"Gesti\\xF3n de Men\\xFA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:productos.map(producto=>editingProductId===producto.id?/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-orange-300 rounded-lg bg-orange-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mb-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedProductData.nombre,onChange:e=>setEditedProductData(_objectSpread(_objectSpread({},editedProductData),{},{nombre:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editedProductData.precio,onChange:e=>setEditedProductData(_objectSpread(_objectSpread({},editedProductData),{},{precio:e.target.value})),className:\"w-24 p-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSaveEdit(producto.id),className:\"flex-1 bg-green-500 text-white py-2 rounded-lg font-semibold\",children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelEdit,className:\"flex-1 bg-gray-300 text-gray-800 py-2 rounded-lg font-semibold\",children:\"Cancelar\"})]})]},producto.id):/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 border-b border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleDisponibilidad(producto.id),className:\"w-5 h-5 rounded-full mr-3 flex-shrink-0 \".concat(producto.disponible?'bg-green-500':'bg-red-500'),\"aria-label\":\"Marcar \".concat(producto.nombre,\" como \").concat(producto.disponible?'no disponible':'disponible')}),/*#__PURE__*/_jsx(\"span\",{className:!producto.disponible?'line-through text-gray-400':'',children:producto.nombre})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",producto.precio]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditClick(producto),className:\"text-sm text-blue-600 hover:underline\",children:\"Editar\"})]})]},producto.id))})]})]});};export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}